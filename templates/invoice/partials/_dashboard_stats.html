{% load humanize %}
{# Shared dashboard stats grid for Admin & CSR dashboards #}
<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-4">
    <!-- Current Students -->
    <div
        class="relative overflow-hidden rounded-xl bg-gradient-to-br from-indigo-500 to-indigo-600 p-4 shadow-lg transition-transform hover:-translate-y-1">
        <div class="relative z-10 flex items-center justify-between gap-3">
            <div class="space-y-1">
                <p class="text-[0.7rem] font-medium text-indigo-100 uppercase tracking-wide">Current Students</p>
                <h3 class="text-2xl font-semibold text-white leading-tight">{{ current_students|default:0 }}</h3>
                <p class="text-[0.75rem] text-indigo-100/80">Students in active batches</p>
            </div>
            <div class="flex h-11 w-11 items-center justify-center rounded-full bg-white/15 text-white backdrop-blur-sm">
                <i class="fas fa-user-graduate text-lg"></i>
            </div>
        </div>
        <div class="absolute -right-4 -bottom-4 text-indigo-800/20">
            <i class="fas fa-user-graduate text-8xl"></i>
        </div>
    </div>

    <!-- Total Students -->
    <div
        class="relative overflow-hidden rounded-xl bg-gradient-to-br from-emerald-500 to-emerald-600 p-4 shadow-lg transition-transform hover:-translate-y-1">
        <div class="relative z-10 flex items-center justify-between gap-3">
            <div class="space-y-1">
                <p class="text-[0.7rem] font-medium text-emerald-100 uppercase tracking-wide">Total Students</p>
                <h3 class="text-2xl font-semibold text-white leading-tight">{{ total_students|default:0 }}</h3>
                <p class="text-[0.75rem] text-emerald-100/80">All students (active + inactive)</p>
            </div>
            <div class="flex h-11 w-11 items-center justify-center rounded-full bg-white/15 text-white backdrop-blur-sm">
                <i class="fas fa-users text-lg"></i>
            </div>
        </div>
        <div class="absolute -right-4 -bottom-4 text-emerald-800/20">
            <i class="fas fa-users text-8xl"></i>
        </div>
    </div>

    <!-- Total Revenue -->
    <div
        class="relative overflow-hidden rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 p-4 shadow-lg transition-transform hover:-translate-y-1">
        <div class="relative z-10 flex items-center justify-between gap-3">
            <div class="space-y-1">
                <p class="text-[0.7rem] font-medium text-blue-100 uppercase tracking-wide">Total Revenue</p>
                <h3 class="text-2xl font-semibold text-white leading-tight">
                    <span>Rs. </span>
                    <span>{{ total_revenue|default:0|floatformat:0|intcomma }}</span>
                </h3>
            </div>
            <div class="flex h-11 w-11 items-center justify-center rounded-full bg-white/15 text-white backdrop-blur-sm">
                <i class="fas fa-dollar-sign text-lg"></i>
            </div>
        </div>
        <div class="absolute -right-4 -bottom-4 text-blue-800/20">
            <i class="fas fa-dollar-sign text-8xl"></i>
        </div>
    </div>

    <!-- Payment Received -->
    <div
        class="relative overflow-hidden rounded-xl bg-gradient-to-br from-cyan-500 to-cyan-600 p-4 shadow-lg transition-transform hover:-translate-y-1">
        <div class="relative z-10 flex items-center justify-between gap-3">
            <div class="space-y-1">
                <p class="text-[0.7rem] font-medium text-cyan-100 uppercase tracking-wide">Payment Received</p>
                <h3 class="text-2xl font-semibold text-white leading-tight">
                    <span>Rs. </span>
                    <span>{{ payment_received|default:0|floatformat:0|intcomma }}</span>
                </h3>
            </div>
            <div class="flex h-11 w-11 items-center justify-center rounded-full bg-white/15 text-white backdrop-blur-sm">
                <i class="fas fa-check-circle text-lg"></i>
            </div>
        </div>
        <div class="absolute -right-4 -bottom-4 text-cyan-800/20">
            <i class="fas fa-check-circle text-8xl"></i>
        </div>
    </div>

    <!-- Pending Payments -->
    <div
        class="relative overflow-hidden rounded-xl bg-gradient-to-br from-amber-500 to-amber-600 p-4 shadow-lg transition-transform hover:-translate-y-1">
        <div class="relative z-10 flex items-center justify-between gap-3">
            <div class="space-y-1">
                <p class="text-[0.7rem] font-medium text-amber-100 uppercase tracking-wide">Pending Payments</p>
                <h3 class="text-2xl font-semibold text-white leading-tight">
                    <span>Rs. </span>
                    <span>{{ pending_payments|default:0|floatformat:0|intcomma }}</span>
                </h3>
            </div>
            <div class="flex h-11 w-11 items-center justify-center rounded-full bg-white/15 text-white backdrop-blur-sm">
                <i class="fas fa-clock text-lg"></i>
            </div>
        </div>
        <div class="absolute -right-4 -bottom-4 text-amber-800/20">
            <i class="fas fa-clock text-8xl"></i>
        </div>
    </div>

    <!-- Total CSRs -->
    <div
        class="relative overflow-hidden rounded-xl bg-gradient-to-br from-rose-500 to-rose-600 p-4 shadow-lg transition-transform hover:-translate-y-1">
        <div class="relative z-10 flex items-center justify-between gap-3">
            <div class="space-y-1">
                <p class="text-[0.7rem] font-medium text-rose-100 uppercase tracking-wide">Total CSRs</p>
                <h3 class="text-2xl font-semibold text-white leading-tight">{{ total_csrs|default:0 }}</h3>
            </div>
            <div class="flex h-11 w-11 items-center justify-center rounded-full bg-white/15 text-white backdrop-blur-sm">
                <i class="fas fa-user-tie text-lg"></i>
            </div>
        </div>
        <div class="absolute -right-4 -bottom-4 text-rose-800/20">
            <i class="fas fa-user-tie text-8xl"></i>
        </div>
    </div>

    <!-- Batches -->
    <div
        class="relative overflow-hidden rounded-xl bg-gradient-to-br from-violet-500 to-violet-600 p-4 shadow-lg transition-transform hover:-translate-y-1">
        <div class="relative z-10 flex items-center justify-between gap-3">
            <div class="space-y-1">
                <p class="text-[0.7rem] font-medium text-violet-100 uppercase tracking-wide">Batches</p>
                <div class="flex items-baseline gap-1">
                    <h3 class="text-2xl font-semibold text-white leading-tight">{{ active_batches|default:0 }}</h3>
                    <span class="text-sm text-violet-100/80">/ {{ total_batches|default:0 }}</span>
                </div>
                <a href="{% url 'admin_batch_management' %}"
                    class="inline-flex items-center gap-1 text-[0.7rem] text-violet-100 hover:text-white hover:underline transition-colors">
                    <i class="fas fa-cog text-[0.65rem]"></i> Manage
                </a>
            </div>
            <div class="flex h-11 w-11 items-center justify-center rounded-full bg-white/15 text-white backdrop-blur-sm">
                <i class="fas fa-layer-group text-lg"></i>
            </div>
        </div>
        <div class="absolute -right-4 -bottom-4 text-violet-800/20">
            <i class="fas fa-layer-group text-8xl"></i>
        </div>
    </div>

    <!-- Total Courses -->
    <div
        class="relative overflow-hidden rounded-xl bg-gradient-to-br from-sky-500 to-sky-600 p-4 shadow-lg transition-transform hover:-translate-y-1">
        <div class="relative z-10 flex items-center justify-between gap-3">
            <div class="space-y-1">
                <p class="text-[0.7rem] font-medium text-sky-100 uppercase tracking-wide">Total Courses</p>
                <h3 class="text-2xl font-semibold text-white leading-tight">{{ total_courses|default:0 }}</h3>
                <a href="{% url 'course_management' %}"
                    class="inline-flex items-center gap-1 text-[0.7rem] text-sky-100 hover:text-white hover:underline transition-colors">
                    <i class="fas fa-list text-[0.65rem]"></i> View All
                </a>
            </div>
            <div class="flex h-11 w-11 items-center justify-center rounded-full bg-white/15 text-white backdrop-blur-sm">
                <i class="fas fa-book text-lg"></i>
            </div>
        </div>
        <div class="absolute -right-4 -bottom-4 text-sky-800/20">
            <i class="fas fa-book text-8xl"></i>
        </div>
    </div>
</div>

